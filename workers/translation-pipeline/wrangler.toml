name = "ctai-translation-pipeline"
main = "index.js"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

[[d1_databases]]
binding = "USERS_DB"
database_name = "ctai-users"
database_id = "64b01291-d9db-4827-9c66-a493adcf4221"

[[d1_databases]]
binding = "JAFAR_DB"
database_name = "ctai-jafar"
database_id = "e077c62e-353d-46fe-b6a5-82590113dc64"

[[r2_buckets]]
binding = "TRANSLATIONS_BUCKET"
bucket_name = "ctai-translations"

[[workflows]]
name = "ctai-segment"
binding = "SEGMENT_WORKFLOW"
class_name = "SegmentWorkflow"

[[workflows]]
name = "ctai-block"
binding = "BLOCK_WORKFLOW"
class_name = "BlockWorkflow"

[[workflows]]
name = "ctai-finalize"
binding = "FINALIZE_WORKFLOW"
class_name = "FinalizeWorkflow"

[triggers]
crons = ["0 14 * * MON"]
